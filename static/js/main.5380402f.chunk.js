(this["webpackJsonpinstagram-clone"]=this["webpackJsonpinstagram-clone"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(1),c=a.n(s),i=a(14),r=a.n(i),o=a(16),l=(a(82),a(39)),d=l.a.initializeApp({apiKey:"AIzaSyBeaF1bw6MsTLzwcNaCpouodRln3skWWTg",authDomain:"instagram-clone-adc81.firebaseapp.com",databaseURL:"https://instagram-clone-adc81.firebaseio.com",projectId:"instagram-clone-adc81",storageBucket:"instagram-clone-adc81.appspot.com",messagingSenderId:"499518177038",appId:"1:499518177038:web:7529dd7fc3e9675b58e15f",measurementId:"G-K3K540EWFM"}).firestore(),u=l.a.auth(),m=l.a.storage(),j=l.a,p=a(130),b=a(138),g=a(133),h=a(137),O=(a(87),function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}),f=Object(p.a)((function(e){return{paper:{position:"absolute",width:300,backgroundColor:e.palette.background.paper,border:"2px solid lightgray",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),x=function(e){var t=e.userName,a=e.user,c=e.setUserName,i=e.setUser,r=f(),l=Object(s.useState)(O),d=Object(o.a)(l,1)[0],m=Object(s.useState)(!0),j=Object(o.a)(m,2),p=j[0],x=j[1],_=Object(s.useState)(null),v=Object(o.a)(_,2),N=v[0],w=v[1],C=Object(s.useState)(null),y=Object(o.a)(C,2),S=y[0],k=y[1],I=Object(s.useState)({up:!1,in:!1}),U=Object(o.a)(I,2),z=U[0],E=U[1],T=function(e){return w(e.target.value)},F=function(e){return k(e.target.value)};Object(s.useEffect)((function(){var e=u.onAuthStateChanged((function(e){i(e||null)}));return function(){e()}}),[a,t]);return Object(n.jsx)("div",{className:"sign",children:a?Object(n.jsx)(g.a,{onClick:function(){u.signOut(),i(null)},children:"Log out"}):Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(g.a,{onClick:function(){return E({up:!0,in:!1})},children:"Sign up"}),Object(n.jsx)(g.a,{onClick:function(){return E({up:!1,in:!0})},children:"Sign in"}),Object(n.jsx)(b.a,{open:z.up,onClose:function(){return E({up:!1,in:!1})},children:Object(n.jsx)("form",{children:Object(n.jsxs)("div",{style:d,className:r.paper+" sign__paper sign__up",children:[Object(n.jsx)("img",{className:"sign__image sign__item",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo"}),Object(n.jsx)(h.a,{className:"sign__item",type:"text",label:"user name",variant:"outlined",size:"small",onChange:function(e){return c(e.target.value)}}),Object(n.jsx)(h.a,{className:"sign__item",type:"email",label:"e-mail address",variant:"outlined",size:"small",onChange:T}),Object(n.jsx)(h.a,{className:"sign__item",type:"password",label:"password",variant:"outlined",size:"small",onChange:F}),Object(n.jsx)(h.a,{className:"sign__item",type:"password",label:"confirm password",variant:"outlined",size:"small",onChange:function(e){return x((function(){var t=e.target.value;return!t||!S||t!==S}))}}),Object(n.jsx)(g.a,{type:"submit",onClick:function(e){e.preventDefault(),u.createUserWithEmailAndPassword(N,S).then((function(e){return e.user.updateProfile({displayName:t})})).catch((function(e){return alert(e.message)})),E({up:!1,in:!0}),w(null),k(null)},disabled:p,children:"Sign up"})]})})}),Object(n.jsx)(b.a,{open:z.in,onClose:function(){return E({up:!1,in:!1})},children:Object(n.jsx)("form",{children:Object(n.jsxs)("div",{style:d,className:r.paper+" sign__paper sign__in",children:[Object(n.jsx)("img",{className:"sign__image sign__item",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo"}),Object(n.jsx)(h.a,{className:"sign__item",type:"email",label:"e-mail address",variant:"outlined",size:"small",onChange:T}),Object(n.jsx)(h.a,{className:"sign__item",type:"password",label:"password",variant:"outlined",size:"small",onChange:F}),Object(n.jsx)(g.a,{type:"submit",onClick:function(e){e.preventDefault(),u.signInWithEmailAndPassword(N,S).catch((function(e){return alert(e.message)})),E({up:!1,in:!1}),w(null),k(null)},disabled:!1,children:"Sign in"})]})})})]})})},_=(a(91),function(e){var t=e.user,a=e.setUser,s=e.userName,c=e.setUserName;return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("img",{className:"header__image",src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"instagram logo"}),Object(n.jsx)(x,{userName:s,user:t,setUserName:c,setUser:a})]})}),v=a(139),N=a(135),w=a(62),C=a.n(w),y=(a(92),function(e){var t=e.postId,a=e.addName,c=Object(s.useState)(""),i=Object(o.a)(c,2),r=i[0],l=i[1];return Object(n.jsxs)("div",{className:"addComment",children:[Object(n.jsx)("div",{className:"addComment__text",children:Object(n.jsx)(h.a,{fullWidth:!0,size:"small",variant:"outlined",onChange:function(e){return l(e.target.value)}})}),Object(n.jsx)("div",{children:Object(n.jsx)(N.a,{className:"addComment__btn",onClick:function(){d.collection("posts").doc(t).collection("comments").add({useraddName:a,comment:r,like:!1,timeStamp:j.firestore.FieldValue.serverTimestamp()}),l(null)},disabled:!r,children:Object(n.jsx)(C.a,{})})})]})}),S=a(63),k=a.n(S),I=a(64),U=a.n(I),z=a(68),E=a(140),T=(a(94),function(e){var t=e.postId,a=e.comId,c=e.name,i=e.text,r=e.logedIn,l=Object(p.a)((function(e){return{avatar:{width:e.spacing(3),height:e.spacing(3)},paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid lightgray",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(),u=Object(s.useState)((function(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),m=Object(o.a)(u,1)[0],j=Object(s.useState)(!1),h=Object(o.a)(j,2),O=h[0],f=h[1],x=Object(s.useState)(null),_=Object(o.a)(x,2),w=_[0],C=_[1],y=function(){C(null),f(!O)};return Object(n.jsxs)("div",{className:"showComment",children:[Object(n.jsxs)("div",{className:"showComment__left",children:[Object(n.jsx)(v.a,{src:"dummy",sizes:"small",alt:c,className:l.avatar+" showComment__avatar"}),Object(n.jsxs)("span",{children:[Object(n.jsxs)("strong",{children:[" ",c]})," ",i]})]}),Object(n.jsxs)("div",{className:"showComment__right",children:[r?Object(n.jsx)(N.a,{children:Object(n.jsx)(k.a,{fontSize:"small"})}):null,Object(n.jsx)(N.a,{onClick:function(e){return C(e.currentTarget)},children:Object(n.jsx)(U.a,{fontSize:"small"})})]}),Object(n.jsx)("div",{children:Object(n.jsx)(z.a,{anchorEl:w,keepMounted:!0,open:w,onClose:function(){return C(null)},children:Object(n.jsx)(E.a,{onClick:y,children:"Delete"})})}),Object(n.jsx)(b.a,{open:O,onClose:y,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(n.jsx)("div",{style:m,className:l.paper,children:Object(n.jsxs)("center",{children:[Object(n.jsx)("span",{children:"This action can not undo. Are you sure want to delete this comment?"}),Object(n.jsx)("div",{className:"showComment__delete",children:Object(n.jsx)(g.a,{variant:"contained",color:"secondary",onClick:function(){d.collection("posts").doc(t).collection("comments").doc(a).delete(),f(!O)},children:"DELETE"})})]})})})]})}),F=(a(95),function(e){var t=e.id,a=e.addUser,c=e.logedIn,i=Object(s.useState)([]),r=Object(o.a)(i,2),l=r[0],u=r[1];return Object(s.useEffect)((function(){return d.collection("posts").doc(t).collection("comments").orderBy("timeStamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return{key:e.id,id:e.id,comment:e.data()}})))}))}),[]),Object(n.jsxs)("div",{className:"Chat",children:[Object(n.jsx)("div",{className:"chat__comments",children:l.map((function(e){return Object(n.jsx)(T,{logedIn:c,postId:t,comId:e.id,name:e.comment.useraddName,text:e.comment.comment,like:e.comment.like})}))}),c?Object(n.jsx)(y,{postId:t,addName:a.displayName}):null]})}),A=(a(96),function(e){var t=e.user,a=e.postId,s=e.userName,c=e.caption,i=e.imageUrl,r=e.date;return Object(n.jsxs)("div",{className:"post",children:[Object(n.jsxs)("div",{className:"post__header",children:[Object(n.jsx)(v.a,{className:"post__avatar",src:"dummy",alt:s}),Object(n.jsxs)("div",{className:"post__name-date",children:[Object(n.jsx)("span",{children:s}),Object(n.jsx)("span",{className:"post__date",children:r})]})]}),Object(n.jsx)("img",{className:"post__image",src:i,alt:"post"}),Object(n.jsx)("div",{className:"post__footer",children:Object(n.jsxs)("span",{children:[Object(n.jsxs)("strong",{children:[s," "]}),c]})}),Object(n.jsx)(F,{id:a,addUser:t,logedIn:Boolean(t)})]})}),B=a(136),L=a(65),D=a.n(L),W=(a(97),Object(p.a)((function(e){return{text:{width:"501px"},progress:{width:"375px"}}}))),P=function(e){var t=e.user,a=W(),c=Object(s.useState)(),i=Object(o.a)(c,2),r=i[0],l=i[1],u=Object(s.useState)(null),p=Object(o.a)(u,2),b=p[0],O=p[1],f=Object(s.useState)(null),x=Object(o.a)(f,2),_=x[0],v=x[1];return Object(n.jsxs)("div",{className:"uploader",children:[Object(n.jsx)("input",{className:"uploader__chooser",type:"file",accept:"images/*",onChange:function(e){var t=e.target.files[0];t&&(O(t),v(null),l(""))}}),Object(n.jsx)(h.a,{className:a.text+" uploader__text",variant:"outlined",placeholder:"Enter your caption here",rows:"5",width:"200px",multiline:!0,onChange:function(e){l(e.target.value)},children:r}),Object(n.jsxs)("div",{className:"uploader__footer",children:[Object(n.jsx)(g.a,{onClick:function(){m.ref("images/"+b.name).put(b).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);v(t)}),(function(e){console.log(e),alert(e.message)}),(function(){m.ref("images/").child(b.name).getDownloadURL().then((function(e){d.collection("posts").add({timeStamp:j.firestore.FieldValue.serverTimestamp(),caption:r,url:e,userName:t.displayName})}))}))},disabled:!b,children:"Upload"}),Object(n.jsx)(B.a,{className:a.progress+" uploader__bar",variant:"determinate",value:_}),Object(n.jsx)("span",{children:function(){if(_)return 100===_?Object(n.jsx)(D.a,{color:"primary"}):_+"%"}()})]})]})},M=a(66),R=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(s.useState)(null),r=Object(o.a)(i,2),l=r[0],u=r[1],m=Object(s.useState)(""),j=Object(o.a)(m,2),p=j[0],b=j[1];return Object(s.useEffect)((function(){return d.collection("posts").orderBy("timeStamp","desc").onSnapshot((function(e){return c(e.docs.map((function(e){return{key:e.id,id:e.id,post:e.data()}})))}))}),[]),Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("div",{className:"app__header",children:Object(n.jsx)(_,{user:l,setUser:u,userName:p,setUserName:b})}),Object(n.jsxs)("div",{className:"app__body",children:[Object(n.jsxs)("div",{className:"app__left",children:[l?Object(n.jsx)(P,{user:l}):null,a.map((function(e){var t=e.post,a=e.key;return Object(n.jsx)(A,{postId:a,user:l,userName:t.userName,caption:t.caption,imageUrl:t.url},a)}))]}),Object(n.jsx)("div",{className:"app__right",children:Object(n.jsx)(M.a,{clientAccessToken:"982232292263767|60af9d31ba0df4e4dd6ce24166ed553c",url:"https://www.instagram.com/p/B_uf9dmAGPw/",maxWidth:375,hideCaption:!1,containerTagName:"div",injectScript:!0,protocol:"",onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]})]})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(R,{})}),document.getElementById("root")),K()},82:function(e,t,a){},87:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.5380402f.chunk.js.map